# Работа с пользователем, сессии

В этой задаче вам потребуется реализовать сразу несколько вещей, которые позволят нам работать с
пользовательскими запросами: понимать от какого пользователя именно пришел запрос, ограничивать 
доступ к некоторым эндпойнтам без аутентификации и т.д.

## Сессии

Начнём мы с реализации функции `ctx.login`, которая будет вызываться с объектом пользователя и 
должна возвращать токен сессии, которую эта функция будет создавать в процессе. Необходимый 
middleware уже подключен в файле `app.js`, осталось реализовать в этой функции создание нового 
документа `Session`, передав в качестве значений созданный токен, идентификатор пользователя, а 
также время последнего визита - в данном случае это текущая дата.


## Проверка сессионного токена

Следующим шагом добавим проверку передаваемого токена, для этого нам надо убедиться в том, что если
пользователь передал токен, то ему соответствует документ сессии в базе данных. В этом случае 
необходимо создать свойство `ctx.user`, соответствующее объекту пользователя этой сессии (чтобы все
последующие middleware могли использовать это значение). Например, обработчик запроса `/me` лишь
возращает данные текущего пользователь в теле ответа, не делая никаких проверок самостоятельно.
Обратите внимание, если пользователь передал токен, по которому мы не    
